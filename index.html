<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="Description" content="compileDataView">
		<title>Compile Data View</title>
		<script type="module" crossorigin src="./compileDataView.js"></script>
		<style>
textarea {
	resize: none;
	font-family: monospace;
	font-size: 16px;
	font-weight: 500,
	background-color:#fcfcfc;
}
		</style>
	</head>
<body>

<script>
const defaultDescription =
`class: Integers;
get: true;
set: true;
pack: true;
xs: true;

Uint16 size;
Uint32 source;
Uint8 id;
Uint16 origin;
Uint8 uuid[16];

class: BooleansAndBitFields;
Boolean b1;
Boolean b2;
Boolean b3;

Uint foo:1;
Uint bar:2;
Uint grr:4;
Uint zrr:16;
Uint yrr:4;

class: CharacterAndStrings;
char a;
char b[16];

class: FloatAndBigInts;
Float32 f32;
Float64 f64[2];
BigInt64 big;
BigUint64 bigger[2];
`;
</script>

<textarea id="viewDescription" name="viewDescription" rows="40" cols="40" spellcheck="false" autofocus="true"></textarea>
<textarea id="viewCode" name="viewCode" rows="40" cols="60" readonly="true" spellcheck="false"></textarea>

<br>See the CompileDataView <a href="https://github.com/phoddie/compileDataView/">repository</a> for <a href="https://github.com/phoddie/compileDataView/blob/master/readme.md">documentation</a> and <a href="https://github.com/phoddie/compileDataView/blob/master/compileDataView.js">source code</a>.

<script type="module" crossorigin>
const viewDescription = document.getElementById('viewDescription');
viewDescription.textContent = defaultDescription;

const viewCode = document.getElementById('viewCode');
const generated = compileDataView(viewDescription.value);
viewCode.textContent = generated.errors + generated.script;

viewDescription.addEventListener('input', e => {
	const generated = compileDataView(e.target.value);
	viewCode.textContent = generated.errors + generated.script;
});
</script>

</body>
<//html>
